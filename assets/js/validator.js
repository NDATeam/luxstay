function Validator(e){function r(e,r){for(;e.parentElement;){if(e.parentElement.matches(r))return e.parentElement;e=e.parentElement}}var t={};function o(o,a){for(var i,l=r(o,e.formGroupSelector).querySelector(e.errorSelector),c=t[a.selector],s=0
    //! Cách sử dụng method closest
    ;s<c.length;++s){switch(o.type){case"radio":case"checkbox":i=c[s](n.querySelector(a.selector+":checked"));break;default:i=c[s](o.value)}if(i)break}return i?(l.innerText=i,r(o,e.formGroupSelector).classList.add("invalid")):(l.innerText="",r(o,e.formGroupSelector).classList.remove("invalid")),!i}var n=document.querySelector(e.form);n&&(n.onsubmit=function(r){r.preventDefault();var t=!0;if(e.rules.forEach((e=>{o(n.querySelector(e.selector),e)||(t=!1)})),t)if("function"==typeof e.onsubmit){var a=n.querySelectorAll("[name]:not([disabled])"),i=Array.from(a).reduce(((e,r)=>{switch(r.type){case"checkbox":r.matches(":checked")?(Array.isArray(e[r.name])||(e[r.name]=[]),e[r.name].push(r.value)):e[r.name]||(e[r.name]="");break;case"radio":r.matches(":checked")?e[r.name]=r.value:e[r.name]||(e[r.name]="");break;case"file":e[r.name]=r.files;break;default:e[r.name]=r.value}return e}),{});e.onsubmit(i)}else n.submit()},e.rules.forEach((a=>{Array.isArray(t[a.selector])?t[a.selector].push(a.test):t[a.selector]=[a.test];var i=n.querySelectorAll(a.selector);Array.from(i).forEach((t=>{t.onblur=()=>{o(t,a)},t.oninput=()=>{r(t,e.formGroupSelector).querySelector(e.errorSelector).innerText="",r(t,e.formGroupSelector).classList.remove("invalid")}}))})))}Validator.isRequired=(e,r)=>({selector:e,test:function(e){return e?void 0:r||"Vui lòng nhập trường này"}}),Validator.isEmail=(e,r)=>({selector:e,test:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)?void 0:r||"Trường này phải là email"}}),Validator.isPhone=(e,r)=>({selector:e,test:function(e){return/(84|0[3|5|7|8|9])+([0-9]{8})\b/g.test(e)?void 0:r||"Số điện thoại không hợp lệ"}}),Validator.minLength=(e,r,t)=>({selector:e,test:function(e){return e.length>=r?void 0:t||`Vui lòng nhập tối thiểu ${r} kí tự`}}),Validator.isConfirmed=(e,r,t)=>({selector:e,test:function(e){return e===r()?void 0:t||"Giá trị nhập vào không chính xác"}});